// <auto-generated />
using System;
using System.Collections.Generic;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;
using PFMP_API;

#nullable disable

namespace PFMP_API.Migrations
{
    [DbContext(typeof(ApplicationDbContext))]
    partial class ApplicationDbContextModelSnapshot : ModelSnapshot
    {
        protected override void BuildModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "9.0.9")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity("PFMP_API.Models.AIActionMemory", b =>
                {
                    b.Property<int>("ActionMemoryId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("ActionMemoryId"));

                    b.Property<string>("AccountsAffected")
                        .HasColumnType("jsonb");

                    b.Property<DateTime>("ActionDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("ActionSummary")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<string>("ActionType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<decimal?>("AmountMoved")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("AssetClass")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<DateTime>("ExpiresAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("IsSignificant")
                        .HasColumnType("boolean");

                    b.Property<int>("ReferenceCount")
                        .HasColumnType("integer");

                    b.Property<bool>("Referenced")
                        .HasColumnType("boolean");

                    b.Property<int?>("SourceAdviceId")
                        .HasColumnType("integer");

                    b.Property<int?>("SourceAlertId")
                        .HasColumnType("integer");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("ActionMemoryId");

                    b.HasIndex("SourceAdviceId");

                    b.HasIndex("SourceAlertId");

                    b.HasIndex("UserId");

                    b.ToTable("AIActionMemories");
                });

            modelBuilder.Entity("PFMP_API.Models.AIConversation", b =>
                {
                    b.Property<int>("ConversationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("ConversationId"));

                    b.Property<string>("ConversationSummary")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)");

                    b.Property<string>("ConversationType")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<DateTime?>("EndedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("GeneratedAdvice")
                        .HasColumnType("boolean");

                    b.Property<int>("MessageCount")
                        .HasColumnType("integer");

                    b.Property<int?>("RelatedAdviceId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("StartedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("TotalCost")
                        .HasColumnType("decimal(10,6)");

                    b.Property<int>("TotalTokensUsed")
                        .HasColumnType("integer");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("ConversationId");

                    b.HasIndex("RelatedAdviceId");

                    b.HasIndex("UserId");

                    b.ToTable("AIConversations");
                });

            modelBuilder.Entity("PFMP_API.Models.AIMessage", b =>
                {
                    b.Property<int>("MessageId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("MessageId"));

                    b.Property<decimal?>("AgreementScore")
                        .HasColumnType("decimal(5,2)");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasMaxLength(5000)
                        .HasColumnType("character varying(5000)");

                    b.Property<int>("ConversationId")
                        .HasColumnType("integer");

                    b.Property<decimal?>("MessageCost")
                        .HasColumnType("decimal(10,6)");

                    b.Property<string>("ModelUsed")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<string>("Role")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<DateTime>("SentAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int?>("TokensUsed")
                        .HasColumnType("integer");

                    b.Property<bool>("UsedConsensus")
                        .HasColumnType("boolean");

                    b.HasKey("MessageId");

                    b.HasIndex("ConversationId");

                    b.ToTable("AIMessages");
                });

            modelBuilder.Entity("PFMP_API.Models.AIUserMemory", b =>
                {
                    b.Property<int>("UserMemoryId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("UserMemoryId"));

                    b.Property<int>("ConfidenceScore")
                        .HasColumnType("integer");

                    b.Property<string>("Context")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<DateTime?>("DeprecatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("DeprecationReason")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<DateTime>("LastReinforcedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("LearnedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("MemoryKey")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("MemoryType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<string>("MemoryValue")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<int>("ReinforcementCount")
                        .HasColumnType("integer");

                    b.Property<int?>("SourceAdviceId")
                        .HasColumnType("integer");

                    b.Property<int?>("SourceConversationId")
                        .HasColumnType("integer");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("UserMemoryId");

                    b.HasIndex("SourceAdviceId");

                    b.HasIndex("SourceConversationId");

                    b.HasIndex("UserId");

                    b.ToTable("AIUserMemories");
                });

            modelBuilder.Entity("PFMP_API.Models.APICredential", b =>
                {
                    b.Property<int>("APICredentialId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("APICredentialId"));

                    b.Property<int>("AccountId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("EncryptedApiKey")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("EncryptedApiSecret")
                        .HasColumnType("text");

                    b.Property<DateTime?>("ExpiresAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<DateTime?>("LastUsed")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("ProviderName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("RefreshToken")
                        .HasColumnType("text");

                    b.HasKey("APICredentialId");

                    b.HasIndex("AccountId")
                        .IsUnique();

                    b.ToTable("APICredentials");
                });

            modelBuilder.Entity("PFMP_API.Models.Account", b =>
                {
                    b.Property<int>("AccountId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("AccountId"));

                    b.Property<string>("APIConnectionStatus")
                        .HasColumnType("text");

                    b.Property<string>("APIProvider")
                        .HasColumnType("text");

                    b.Property<string>("AccountName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<string>("AccountNumber")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<int>("AccountType")
                        .HasColumnType("integer");

                    b.Property<int>("Category")
                        .HasColumnType("integer");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("CurrentBalance")
                        .HasColumnType("decimal(18,2)");

                    b.Property<bool>("HasAPIIntegration")
                        .HasColumnType("boolean");

                    b.Property<string>("Institution")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<decimal?>("InterestRate")
                        .HasColumnType("decimal(18,8)");

                    b.Property<DateTime?>("InterestRateUpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("IsAPIConnected")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsEmergencyFund")
                        .HasColumnType("boolean");

                    b.Property<DateTime?>("LastAPISync")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("LastBalanceUpdate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Notes")
                        .HasColumnType("text");

                    b.Property<decimal?>("OptimalInterestRate")
                        .HasColumnType("numeric");

                    b.Property<DateTime?>("RateLastChecked")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("TSPEmployerMatch")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("TSPMonthlyContribution")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("AccountId");

                    b.HasIndex("UserId");

                    b.ToTable("Accounts");
                });

            modelBuilder.Entity("PFMP_API.Models.Advice", b =>
                {
                    b.Property<int>("AdviceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("AdviceId"));

                    b.Property<decimal?>("AIGenerationCost")
                        .HasColumnType("decimal(10,6)");

                    b.Property<DateTime?>("AcceptedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("AggressiveRecommendation")
                        .HasMaxLength(5000)
                        .HasColumnType("character varying(5000)");

                    b.Property<decimal?>("AgreementScore")
                        .HasColumnType("decimal(5,2)");

                    b.Property<int>("ConfidenceScore")
                        .HasColumnType("integer");

                    b.Property<string>("ConsensusText")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("ConservativeRecommendation")
                        .HasMaxLength(5000)
                        .HasColumnType("character varying(5000)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("DismissedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("GenerationMethod")
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)");

                    b.Property<bool?>("HasConsensus")
                        .HasColumnType("boolean");

                    b.Property<int?>("LinkedTaskId")
                        .HasColumnType("integer");

                    b.Property<int?>("MarketContextId")
                        .HasColumnType("integer");

                    b.Property<string>("ModelsUsed")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<string>("PreviousStatus")
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)");

                    b.Property<string>("PrimaryJson")
                        .HasColumnType("text");

                    b.Property<int?>("SourceAlertId")
                        .HasColumnType("integer");

                    b.Property<string>("SourceAlertSnapshot")
                        .HasColumnType("text");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)");

                    b.Property<string>("Theme")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<int?>("TotalTokensUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.Property<string>("ValidatorJson")
                        .HasColumnType("text");

                    b.Property<string>("ViolationsJson")
                        .HasColumnType("text");

                    b.HasKey("AdviceId");

                    b.HasIndex("CreatedAt");

                    b.HasIndex("MarketContextId");

                    b.HasIndex("UserId");

                    b.ToTable("Advice");
                });

            modelBuilder.Entity("PFMP_API.Models.Alert", b =>
                {
                    b.Property<int>("AlertId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("AlertId"));

                    b.Property<bool>("AIAnalyzed")
                        .HasColumnType("boolean");

                    b.Property<DateTime?>("AIAnalyzedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("AIContext")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<string>("ActionUrl")
                        .HasColumnType("text");

                    b.Property<int>("Category")
                        .HasColumnType("integer");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("DismissedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("ExpiresAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("IsActionable")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsDismissed")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsRead")
                        .HasColumnType("boolean");

                    b.Property<int?>("MarketContextId")
                        .HasColumnType("integer");

                    b.Property<string>("Message")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("Metadata")
                        .HasColumnType("text");

                    b.Property<int>("PortfolioImpactScore")
                        .HasColumnType("integer");

                    b.Property<DateTime?>("ReadAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("Severity")
                        .HasColumnType("integer");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("AlertId");

                    b.HasIndex("CreatedAt");

                    b.HasIndex("MarketContextId");

                    b.HasIndex("UserId", "IsRead");

                    b.ToTable("Alerts");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.BenefitCoverage", b =>
                {
                    b.Property<int>("BenefitCoverageId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("BenefitCoverageId"));

                    b.Property<string>("BenefitType")
                        .IsRequired()
                        .HasMaxLength(120)
                        .HasColumnType("character varying(120)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("EmployerContributionPercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<bool>("IsEnrolled")
                        .HasColumnType("boolean");

                    b.Property<decimal?>("MonthlyCost")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("Notes")
                        .HasMaxLength(300)
                        .HasColumnType("character varying(300)");

                    b.Property<string>("Provider")
                        .HasMaxLength(120)
                        .HasColumnType("character varying(120)");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("BenefitCoverageId");

                    b.HasIndex("UserId", "BenefitType", "Provider");

                    b.ToTable("FinancialProfileBenefitCoverages");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.CashAccount", b =>
                {
                    b.Property<Guid>("CashAccountId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("AccountType")
                        .IsRequired()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)");

                    b.Property<decimal>("Balance")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Institution")
                        .HasMaxLength(150)
                        .HasColumnType("character varying(150)");

                    b.Property<decimal?>("InterestRateApr")
                        .HasColumnType("decimal(8,4)");

                    b.Property<bool>("IsEmergencyFund")
                        .HasColumnType("boolean");

                    b.Property<string>("Nickname")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<DateTime?>("RateLastChecked")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("CashAccountId");

                    b.HasIndex("UserId", "Nickname", "AccountType");

                    b.ToTable("CashAccounts");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.EquityCompensationInterest", b =>
                {
                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("IsInterestedInTracking")
                        .HasColumnType("boolean");

                    b.Property<string>("Notes")
                        .HasMaxLength(300)
                        .HasColumnType("character varying(300)");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("UserId");

                    b.ToTable("FinancialProfileEquityInterest");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.ExpenseBudget", b =>
                {
                    b.Property<int>("ExpenseBudgetId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("ExpenseBudgetId"));

                    b.Property<string>("Category")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("IsEstimated")
                        .HasColumnType("boolean");

                    b.Property<decimal>("MonthlyAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("Notes")
                        .HasMaxLength(300)
                        .HasColumnType("character varying(300)");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("ExpenseBudgetId");

                    b.HasIndex("UserId", "Category");

                    b.ToTable("FinancialProfileExpenses");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.FinancialProfileInsurancePolicy", b =>
                {
                    b.Property<Guid>("InsurancePolicyId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("Carrier")
                        .HasMaxLength(120)
                        .HasColumnType("character varying(120)");

                    b.Property<decimal?>("CoverageAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("IsAdequateCoverage")
                        .HasColumnType("boolean");

                    b.Property<string>("PolicyName")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<string>("PolicyType")
                        .IsRequired()
                        .HasMaxLength(120)
                        .HasColumnType("character varying(120)");

                    b.Property<decimal?>("PremiumAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("PremiumFrequency")
                        .HasMaxLength(30)
                        .HasColumnType("character varying(30)");

                    b.Property<decimal?>("RecommendedCoverage")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime?>("RenewalDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("InsurancePolicyId");

                    b.HasIndex("UserId", "PolicyType", "PolicyName");

                    b.ToTable("FinancialProfileInsurancePolicies");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.FinancialProfileSectionStatus", b =>
                {
                    b.Property<Guid>("SectionStatusId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("DataChecksum")
                        .HasMaxLength(80)
                        .HasColumnType("character varying(80)");

                    b.Property<DateTime?>("OptOutAcknowledgedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("OptOutReason")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("SectionKey")
                        .IsRequired()
                        .HasMaxLength(60)
                        .HasColumnType("character varying(60)");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("SectionStatusId");

                    b.HasIndex("UserId", "SectionKey")
                        .IsUnique();

                    b.ToTable("FinancialProfileSectionStatuses");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.FinancialProfileSnapshot", b =>
                {
                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("CalculatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("CompletedSectionCount")
                        .HasColumnType("integer");

                    b.Property<string>("CompletedSectionsJson")
                        .HasColumnType("jsonb");

                    b.Property<decimal>("CompletionPercent")
                        .HasColumnType("numeric");

                    b.Property<decimal?>("EffectiveTaxRatePercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<decimal?>("FederalWithholdingPercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<int>("LongTermObligationCount")
                        .HasColumnType("integer");

                    b.Property<decimal>("LongTermObligationEstimate")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("MarginalTaxRatePercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<decimal>("MonthlyCashFlowEstimate")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal>("MonthlyDebtServiceEstimate")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal>("MonthlyExpenseEstimate")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal>("NetWorthEstimate")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime?>("NextObligationDueDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("OptedOutSectionCount")
                        .HasColumnType("integer");

                    b.Property<string>("OptedOutSectionsJson")
                        .HasColumnType("jsonb");

                    b.Property<int>("OutstandingSectionCount")
                        .HasColumnType("integer");

                    b.Property<string>("OutstandingSectionsJson")
                        .HasColumnType("jsonb");

                    b.Property<DateTime?>("ProfileCompletedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("TotalLiabilityBalance")
                        .HasColumnType("decimal(18,2)");

                    b.Property<bool>("UsesCpaOrPreparer")
                        .HasColumnType("boolean");

                    b.HasKey("UserId");

                    b.ToTable("FinancialProfileSnapshots");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.IncomeStreamProfile", b =>
                {
                    b.Property<Guid>("IncomeStreamId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<decimal>("AnnualAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("EndDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("IncomeType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsGuaranteed")
                        .HasColumnType("boolean");

                    b.Property<decimal>("MonthlyAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<DateTime?>("StartDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("IncomeStreamId");

                    b.HasIndex("UserId", "Name", "IncomeType");

                    b.ToTable("IncomeStreams");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.InvestmentAccount", b =>
                {
                    b.Property<Guid>("InvestmentAccountId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("AccountCategory")
                        .IsRequired()
                        .HasMaxLength(60)
                        .HasColumnType("character varying(60)");

                    b.Property<string>("AccountName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<string>("AssetClass")
                        .HasMaxLength(60)
                        .HasColumnType("character varying(60)");

                    b.Property<decimal?>("ContributionRatePercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<decimal?>("CostBasis")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("CurrentValue")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("Institution")
                        .HasMaxLength(150)
                        .HasColumnType("character varying(150)");

                    b.Property<bool>("IsTaxAdvantaged")
                        .HasColumnType("boolean");

                    b.Property<DateTime?>("LastContributionDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("InvestmentAccountId");

                    b.HasIndex("UserId", "AccountName", "AccountCategory");

                    b.ToTable("InvestmentAccounts");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.LiabilityAccount", b =>
                {
                    b.Property<int>("LiabilityAccountId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("LiabilityAccountId"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("CurrentBalance")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("InterestRateApr")
                        .HasColumnType("decimal(8,4)");

                    b.Property<bool>("IsPriorityToEliminate")
                        .HasColumnType("boolean");

                    b.Property<string>("Lender")
                        .HasMaxLength(150)
                        .HasColumnType("character varying(150)");

                    b.Property<string>("LiabilityType")
                        .IsRequired()
                        .HasMaxLength(80)
                        .HasColumnType("character varying(80)");

                    b.Property<decimal?>("MinimumPayment")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime?>("PayoffTargetDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("LiabilityAccountId");

                    b.HasIndex("UserId", "LiabilityType", "Lender");

                    b.ToTable("FinancialProfileLiabilities");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.LongTermObligation", b =>
                {
                    b.Property<int>("LongTermObligationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("LongTermObligationId"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("EstimatedCost")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("FundingStatus")
                        .HasMaxLength(60)
                        .HasColumnType("character varying(60)");

                    b.Property<decimal?>("FundsAllocated")
                        .HasColumnType("decimal(18,2)");

                    b.Property<bool>("IsCritical")
                        .HasColumnType("boolean");

                    b.Property<string>("Notes")
                        .HasMaxLength(400)
                        .HasColumnType("character varying(400)");

                    b.Property<string>("ObligationName")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("character varying(150)");

                    b.Property<string>("ObligationType")
                        .IsRequired()
                        .HasMaxLength(80)
                        .HasColumnType("character varying(80)");

                    b.Property<DateTime?>("TargetDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("LongTermObligationId");

                    b.HasIndex("UserId", "ObligationName");

                    b.ToTable("FinancialProfileLongTermObligations");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.PropertyProfile", b =>
                {
                    b.Property<Guid>("PropertyId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("EstimatedValue")
                        .HasColumnType("decimal(18,2)");

                    b.Property<bool>("HasHeloc")
                        .HasColumnType("boolean");

                    b.Property<decimal?>("MonthlyExpenses")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("MonthlyMortgagePayment")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("MonthlyRentalIncome")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("MortgageBalance")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("Occupancy")
                        .IsRequired()
                        .HasMaxLength(60)
                        .HasColumnType("character varying(60)");

                    b.Property<string>("PropertyName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<string>("PropertyType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("PropertyId");

                    b.HasIndex("UserId", "PropertyName");

                    b.ToTable("Properties");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.TaxProfile", b =>
                {
                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("EffectiveRatePercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<decimal?>("ExpectedPaymentAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("ExpectedRefundAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("FederalWithholdingPercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<string>("FilingStatus")
                        .IsRequired()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)");

                    b.Property<decimal?>("MarginalRatePercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<string>("Notes")
                        .HasMaxLength(300)
                        .HasColumnType("character varying(300)");

                    b.Property<string>("StateOfResidence")
                        .HasMaxLength(80)
                        .HasColumnType("character varying(80)");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("UsesCpaOrPreparer")
                        .HasColumnType("boolean");

                    b.HasKey("UserId");

                    b.ToTable("FinancialProfileTaxProfiles");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.TspLifecyclePosition", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<decimal>("ContributionPercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("CurrentMarketValue")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("CurrentMixPercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<decimal?>("CurrentPrice")
                        .HasColumnType("decimal(18,6)");

                    b.Property<DateTime?>("DateUpdated")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("FundCode")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("character varying(10)");

                    b.Property<DateTime?>("LastPricedAsOfUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("Units")
                        .HasColumnType("decimal(18,6)");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("UserId", "FundCode")
                        .IsUnique();

                    b.ToTable("TspLifecyclePositions");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.TspPositionSnapshot", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<decimal?>("AllocationPercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<DateTime>("AsOfUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("FundCode")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("character varying(10)");

                    b.Property<decimal>("MarketValue")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal>("MixPercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<decimal>("Price")
                        .HasColumnType("decimal(18,6)");

                    b.Property<decimal>("Units")
                        .HasColumnType("decimal(18,6)");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("UserId", "AsOfUtc");

                    b.HasIndex("UserId", "FundCode", "AsOfUtc");

                    b.ToTable("TspPositionSnapshots");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.TspProfile", b =>
                {
                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.Property<decimal>("CFundPercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<decimal>("ContributionRatePercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<decimal>("CurrentBalance")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal>("EmployerMatchPercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<decimal>("FFundPercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<decimal>("GFundPercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<decimal>("IFundPercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<bool>("IsOptedOut")
                        .HasColumnType("boolean");

                    b.Property<DateTime>("LastUpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("LifecycleBalance")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("LifecyclePercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<DateTime?>("OptOutAcknowledgedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("OptOutReason")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<decimal>("SFundPercent")
                        .HasColumnType("decimal(8,4)");

                    b.Property<decimal>("TargetBalance")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("TotalBalance")
                        .HasColumnType("decimal(18,2)");

                    b.HasKey("UserId");

                    b.ToTable("TspProfiles");
                });

            modelBuilder.Entity("PFMP_API.Models.Goal", b =>
                {
                    b.Property<int>("GoalId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("GoalId"));

                    b.Property<int>("Category")
                        .HasColumnType("integer");

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("CurrentAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)");

                    b.Property<decimal?>("ExpectedAnnualReturn")
                        .HasColumnType("decimal(8,4)");

                    b.Property<decimal?>("MonthlyContribution")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("MonthlyExpenses")
                        .HasColumnType("decimal(18,2)");

                    b.Property<int?>("MonthsOfExpenses")
                        .HasColumnType("integer");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<string>("Notes")
                        .HasColumnType("text");

                    b.Property<int>("Priority")
                        .HasColumnType("integer");

                    b.Property<decimal?>("RequiredMonthlyContribution")
                        .HasColumnType("decimal(18,2)");

                    b.Property<int?>("RetirementAgeTarget")
                        .HasColumnType("integer");

                    b.Property<int>("RiskTolerance")
                        .HasColumnType("integer");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.Property<int>("Strategy")
                        .HasColumnType("integer");

                    b.Property<decimal>("TargetAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime?>("TargetDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("TargetMonthlyIncome")
                        .HasColumnType("decimal(18,2)");

                    b.Property<int>("Type")
                        .HasColumnType("integer");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.Property<decimal?>("WithdrawalRate")
                        .HasColumnType("decimal(8,4)");

                    b.HasKey("GoalId");

                    b.HasIndex("UserId");

                    b.ToTable("Goals");
                });

            modelBuilder.Entity("PFMP_API.Models.GoalMilestone", b =>
                {
                    b.Property<int>("MilestoneId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("MilestoneId"));

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("CurrentAmount")
                        .HasColumnType("numeric");

                    b.Property<string>("Description")
                        .HasColumnType("text");

                    b.Property<int>("GoalId")
                        .HasColumnType("integer");

                    b.Property<int>("SortOrder")
                        .HasColumnType("integer");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.Property<decimal>("TargetAmount")
                        .HasColumnType("numeric");

                    b.Property<DateTime>("TargetDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("MilestoneId");

                    b.HasIndex("GoalId");

                    b.ToTable("GoalMilestones");
                });

            modelBuilder.Entity("PFMP_API.Models.Holding", b =>
                {
                    b.Property<int>("HoldingId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("HoldingId"));

                    b.Property<int>("AccountId")
                        .HasColumnType("integer");

                    b.Property<decimal?>("AnnualDividendIncome")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("AnnualDividendYield")
                        .HasColumnType("decimal(8,4)");

                    b.Property<int>("AssetType")
                        .HasColumnType("integer");

                    b.Property<decimal>("AverageCostBasis")
                        .HasColumnType("decimal(18,8)");

                    b.Property<decimal?>("Beta")
                        .HasColumnType("numeric");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("CurrentPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<string>("GeographicAllocation")
                        .HasColumnType("text");

                    b.Property<bool>("IsLongTermCapitalGains")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsQualifiedDividend")
                        .HasColumnType("boolean");

                    b.Property<DateTime?>("LastDividendDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("LastPriceUpdate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Name")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<DateTime?>("NextDividendDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Notes")
                        .HasColumnType("text");

                    b.Property<DateTime?>("PurchaseDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("Quantity")
                        .HasColumnType("decimal(18,8)");

                    b.Property<string>("SectorAllocation")
                        .HasColumnType("text");

                    b.Property<decimal?>("StakingAPY")
                        .HasColumnType("decimal(8,4)");

                    b.Property<string>("Symbol")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("HoldingId");

                    b.HasIndex("AccountId", "Symbol");

                    b.ToTable("Holdings");
                });

            modelBuilder.Entity("PFMP_API.Models.IncomeSource", b =>
                {
                    b.Property<int>("IncomeSourceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("IncomeSourceId"));

                    b.Property<decimal>("Amount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("AnnualGrowthRate")
                        .HasColumnType("decimal(8,4)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("DividendYield")
                        .HasColumnType("numeric");

                    b.Property<DateTime?>("EndDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("Frequency")
                        .HasColumnType("integer");

                    b.Property<string>("GS_PayScale")
                        .HasColumnType("text");

                    b.Property<string>("GovernmentAgency")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<bool>("Is1099Income")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsGuaranteed")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsTaxable")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsVACombined")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsW2Income")
                        .HasColumnType("boolean");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<DateTime?>("NextPaymentDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Notes")
                        .HasColumnType("text");

                    b.Property<int>("Reliability")
                        .HasColumnType("integer");

                    b.Property<DateTime>("StartDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Symbol")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<int>("Type")
                        .HasColumnType("integer");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.Property<int?>("VADisabilityPercentage")
                        .HasColumnType("integer");

                    b.HasKey("IncomeSourceId");

                    b.HasIndex("UserId");

                    b.ToTable("IncomeSources");
                });

            modelBuilder.Entity("PFMP_API.Models.Insurance", b =>
                {
                    b.Property<int>("InsuranceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("InsuranceId"));

                    b.Property<string>("Beneficiaries")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<int?>("BenefitPeriodMonths")
                        .HasColumnType("integer");

                    b.Property<decimal?>("CashValue")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("CashValueGrowthRate")
                        .HasColumnType("decimal(8,4)");

                    b.Property<decimal>("CoverageAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("Deductible")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("HSAContributionLimit")
                        .HasColumnType("decimal(18,2)");

                    b.Property<bool>("HasHSA")
                        .HasColumnType("boolean");

                    b.Property<string>("InsuranceCompany")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("character varying(150)");

                    b.Property<bool>("IsAdequateCoverage")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsTerm")
                        .HasColumnType("boolean");

                    b.Property<DateTime?>("LastPremiumPayment")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("LastReviewDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("MonthlyBenefit")
                        .HasColumnType("decimal(18,2)");

                    b.Property<bool>("NeedsReview")
                        .HasColumnType("boolean");

                    b.Property<string>("NetworkType")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTime?>("NextPremiumDue")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Notes")
                        .HasColumnType("text");

                    b.Property<decimal?>("OutOfPocketMax")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime?>("PolicyEndDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("PolicyName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<string>("PolicyNumber")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<DateTime>("PolicyStartDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("PremiumAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<int>("PremiumFrequency")
                        .HasColumnType("integer");

                    b.Property<string>("PropertyAddress")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<decimal?>("PropertyValue")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("RecommendedCoverageAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime>("RenewalDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("ReplacementCost")
                        .HasColumnType("decimal(18,2)");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.Property<int?>("TermLengthYears")
                        .HasColumnType("integer");

                    b.Property<int>("Type")
                        .HasColumnType("integer");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.Property<string>("VIN")
                        .HasMaxLength(17)
                        .HasColumnType("character varying(17)");

                    b.Property<string>("VehicleDescription")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<decimal?>("VehicleValue")
                        .HasColumnType("decimal(18,2)");

                    b.Property<int?>("WaitingPeriodDays")
                        .HasColumnType("integer");

                    b.HasKey("InsuranceId");

                    b.HasIndex("UserId");

                    b.ToTable("InsurancePolicies");
                });

            modelBuilder.Entity("PFMP_API.Models.MarketContext", b =>
                {
                    b.Property<int>("MarketContextId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("MarketContextId"));

                    b.Property<List<string>>("AffectedSectors")
                        .IsRequired()
                        .HasColumnType("jsonb");

                    b.Property<DateTime>("ContextDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("CryptoSentiment")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<string>("DailySummary")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)");

                    b.Property<DateTime>("GeneratedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("GenerationCost")
                        .HasColumnType("decimal(10,6)");

                    b.Property<List<string>>("MajorEvents")
                        .IsRequired()
                        .HasColumnType("jsonb");

                    b.Property<string>("MarketSentiment")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<string>("ModelUsed")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<decimal>("SPYChange")
                        .HasColumnType("decimal(8,4)");

                    b.Property<int>("SourceArticleCount")
                        .HasColumnType("integer");

                    b.Property<int>("TokensUsed")
                        .HasColumnType("integer");

                    b.Property<string>("TreasuryYield10Y")
                        .HasMaxLength(10)
                        .HasColumnType("character varying(10)");

                    b.Property<decimal>("VIXLevel")
                        .HasColumnType("decimal(8,2)");

                    b.HasKey("MarketContextId");

                    b.ToTable("MarketContexts");
                });

            modelBuilder.Entity("PFMP_API.Models.OnboardingProgress", b =>
                {
                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.Property<string>("CompletedStepIdsJson")
                        .HasColumnType("jsonb")
                        .HasColumnName("CompletedStepIds");

                    b.Property<string>("CurrentStepId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("StepPayloadsJson")
                        .HasColumnType("jsonb")
                        .HasColumnName("StepPayloads");

                    b.Property<DateTime>("UpdatedUtc")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("UserId");

                    b.HasIndex("UpdatedUtc");

                    b.ToTable("OnboardingProgress");
                });

            modelBuilder.Entity("PFMP_API.Models.RealEstate", b =>
                {
                    b.Property<int>("RealEstateId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("RealEstateId"));

                    b.Property<string>("Address")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<decimal>("AnnualInsurance")
                        .HasColumnType("numeric");

                    b.Property<decimal>("AnnualPropertyTaxes")
                        .HasColumnType("numeric");

                    b.Property<int?>("Bathrooms")
                        .HasColumnType("integer");

                    b.Property<int?>("Bedrooms")
                        .HasColumnType("integer");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("CurrentMarketValue")
                        .HasColumnType("numeric");

                    b.Property<DateTime?>("LastAppraisalDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("LeaseEndDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("LeaseStartDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("MonthlyExpenses")
                        .HasColumnType("numeric");

                    b.Property<decimal>("MonthlyMortgagePayment")
                        .HasColumnType("numeric");

                    b.Property<decimal>("MonthlyRentalIncome")
                        .HasColumnType("numeric");

                    b.Property<decimal>("MortgageBalance")
                        .HasColumnType("numeric");

                    b.Property<decimal>("MortgageInterestRate")
                        .HasColumnType("numeric");

                    b.Property<DateTime?>("MortgageMaturityDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)");

                    b.Property<string>("PropertyName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<int>("PropertyType")
                        .HasColumnType("integer");

                    b.Property<DateTime>("PurchaseDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("PurchasePrice")
                        .HasColumnType("numeric");

                    b.Property<decimal>("SecurityDeposit")
                        .HasColumnType("numeric");

                    b.Property<int?>("SquareFootage")
                        .HasColumnType("integer");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.Property<int?>("YearBuilt")
                        .HasColumnType("integer");

                    b.HasKey("RealEstateId");

                    b.HasIndex("UserId");

                    b.ToTable("RealEstateProperties");
                });

            modelBuilder.Entity("PFMP_API.Models.TSPFundPrice", b =>
                {
                    b.Property<int>("TSPFundPriceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("TSPFundPriceId"));

                    b.Property<decimal>("CFundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("DataSource")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<decimal>("FFundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<decimal>("GFundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<decimal>("IFundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<decimal?>("L2030FundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<decimal?>("L2035FundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<decimal?>("L2040FundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<decimal?>("L2045FundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<decimal?>("L2050FundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<decimal?>("L2055FundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<decimal?>("L2060FundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<decimal?>("L2065FundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<decimal?>("L2070FundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<decimal?>("L2075FundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<decimal?>("LIncomeFundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.Property<DateTime>("PriceDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("SFundPrice")
                        .HasColumnType("decimal(18,8)");

                    b.HasKey("TSPFundPriceId");

                    b.ToTable("TSPFundPrices");
                });

            modelBuilder.Entity("PFMP_API.Models.Transaction", b =>
                {
                    b.Property<int>("TransactionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("TransactionId"));

                    b.Property<int>("AccountId")
                        .HasColumnType("integer");

                    b.Property<decimal>("Amount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("CapitalGainLoss")
                        .HasColumnType("decimal(18,2)");

                    b.Property<decimal?>("CostBasis")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<string>("ExternalTransactionId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<decimal?>("Fee")
                        .HasColumnType("decimal(18,2)");

                    b.Property<int?>("HoldingId")
                        .HasColumnType("integer");

                    b.Property<bool>("IsDividendReinvestment")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsLongTermCapitalGains")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsQualifiedDividend")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsTaxable")
                        .HasColumnType("boolean");

                    b.Property<string>("Notes")
                        .HasColumnType("text");

                    b.Property<decimal?>("Price")
                        .HasColumnType("decimal(18,8)");

                    b.Property<decimal?>("Quantity")
                        .HasColumnType("decimal(18,8)");

                    b.Property<DateTime>("SettlementDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("Source")
                        .HasColumnType("integer");

                    b.Property<decimal?>("StakingAPY")
                        .HasColumnType("decimal(8,4)");

                    b.Property<decimal?>("StakingReward")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("Symbol")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<decimal?>("TaxableAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime>("TransactionDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("TransactionType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.HasKey("TransactionId");

                    b.HasIndex("AccountId");

                    b.HasIndex("HoldingId");

                    b.HasIndex("TransactionDate");

                    b.HasIndex("TransactionType");

                    b.ToTable("Transactions");
                });

            modelBuilder.Entity("PFMP_API.Models.User", b =>
                {
                    b.Property<int>("UserId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("UserId"));

                    b.Property<DateTime?>("AccountLockedUntil")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("AnnualIncome")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("AzureObjectId")
                        .HasColumnType("text");

                    b.Property<bool>("BypassAuthentication")
                        .HasColumnType("boolean");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("DateOfBirth")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int?>("DependentCount")
                        .HasColumnType("integer");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<decimal>("EmergencyFundTarget")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("EmploymentType")
                        .HasColumnType("text");

                    b.Property<bool>("EnableEmailAlerts")
                        .HasColumnType("boolean");

                    b.Property<bool>("EnablePushNotifications")
                        .HasColumnType("boolean");

                    b.Property<bool>("EnableRebalancingAlerts")
                        .HasColumnType("boolean");

                    b.Property<bool>("EnableTaxOptimization")
                        .HasColumnType("boolean");

                    b.Property<int>("FailedLoginAttempts")
                        .HasColumnType("integer");

                    b.Property<string>("FirstName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("GovernmentAgency")
                        .HasColumnType("text");

                    b.Property<string>("HouseholdServiceNotes")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsGovernmentEmployee")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsTestAccount")
                        .HasColumnType("boolean");

                    b.Property<DateTime?>("LastLoginAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("LastName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTime?>("LastRiskAssessment")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("LiquidityBufferMonths")
                        .HasColumnType("decimal(5,2)");

                    b.Property<string>("MaritalStatus")
                        .HasMaxLength(60)
                        .HasColumnType("character varying(60)");

                    b.Property<string>("PasswordHash")
                        .HasColumnType("text");

                    b.Property<string>("PayGrade")
                        .HasColumnType("text");

                    b.Property<string>("PhoneNumber")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<string>("PreferredName")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTime?>("ProfileCompletedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("ProfileSetupComplete")
                        .HasColumnType("boolean");

                    b.Property<decimal>("RebalancingThreshold")
                        .HasColumnType("numeric");

                    b.Property<decimal?>("RetirementGoalAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("RetirementSystem")
                        .HasColumnType("text");

                    b.Property<int>("RiskTolerance")
                        .HasColumnType("integer");

                    b.Property<DateTime?>("ServiceComputationDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("SetupProgressPercentage")
                        .HasColumnType("integer");

                    b.Property<string>("SetupStepsCompleted")
                        .HasColumnType("text");

                    b.Property<decimal?>("TargetMonthlyPassiveIncome")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime?>("TargetRetirementDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("VADisabilityMonthlyAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<int?>("VADisabilityPercentage")
                        .HasColumnType("integer");

                    b.HasKey("UserId");

                    b.HasIndex("Email")
                        .IsUnique();

                    b.ToTable("Users");
                });

            modelBuilder.Entity("PFMP_API.Models.UserTask", b =>
                {
                    b.Property<int>("TaskId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("TaskId"));

                    b.Property<DateTime?>("CompletedDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("CompletionNotes")
                        .HasColumnType("text");

                    b.Property<decimal?>("ConfidenceScore")
                        .HasColumnType("decimal(5,2)");

                    b.Property<DateTime>("CreatedDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<DateTime?>("DismissedDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("DueDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("EstimatedImpact")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("ImpactDescription")
                        .HasColumnType("text");

                    b.Property<string>("Notes")
                        .HasColumnType("text");

                    b.Property<int>("Priority")
                        .HasColumnType("integer");

                    b.Property<int>("ProgressPercentage")
                        .HasColumnType("integer");

                    b.Property<int?>("SourceAdviceId")
                        .HasColumnType("integer");

                    b.Property<int?>("SourceAlertId")
                        .HasColumnType("integer");

                    b.Property<string>("SourceType")
                        .HasMaxLength(30)
                        .HasColumnType("character varying(30)");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<int>("Type")
                        .HasColumnType("integer");

                    b.Property<int>("UserId")
                        .HasColumnType("integer");

                    b.HasKey("TaskId");

                    b.HasIndex("CreatedDate");

                    b.HasIndex("DueDate");

                    b.HasIndex("SourceAlertId");

                    b.HasIndex("UserId", "Status");

                    b.ToTable("Tasks");
                });

            modelBuilder.Entity("PFMP_API.Models.AIActionMemory", b =>
                {
                    b.HasOne("PFMP_API.Models.Advice", "SourceAdvice")
                        .WithMany()
                        .HasForeignKey("SourceAdviceId");

                    b.HasOne("PFMP_API.Models.Alert", "SourceAlert")
                        .WithMany()
                        .HasForeignKey("SourceAlertId");

                    b.HasOne("PFMP_API.Models.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("SourceAdvice");

                    b.Navigation("SourceAlert");

                    b.Navigation("User");
                });

            modelBuilder.Entity("PFMP_API.Models.AIConversation", b =>
                {
                    b.HasOne("PFMP_API.Models.Advice", "RelatedAdvice")
                        .WithMany()
                        .HasForeignKey("RelatedAdviceId");

                    b.HasOne("PFMP_API.Models.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("RelatedAdvice");

                    b.Navigation("User");
                });

            modelBuilder.Entity("PFMP_API.Models.AIMessage", b =>
                {
                    b.HasOne("PFMP_API.Models.AIConversation", "Conversation")
                        .WithMany("Messages")
                        .HasForeignKey("ConversationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Conversation");
                });

            modelBuilder.Entity("PFMP_API.Models.AIUserMemory", b =>
                {
                    b.HasOne("PFMP_API.Models.Advice", "SourceAdvice")
                        .WithMany()
                        .HasForeignKey("SourceAdviceId");

                    b.HasOne("PFMP_API.Models.AIConversation", "SourceConversation")
                        .WithMany()
                        .HasForeignKey("SourceConversationId");

                    b.HasOne("PFMP_API.Models.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("SourceAdvice");

                    b.Navigation("SourceConversation");

                    b.Navigation("User");
                });

            modelBuilder.Entity("PFMP_API.Models.APICredential", b =>
                {
                    b.HasOne("PFMP_API.Models.Account", "Account")
                        .WithOne("APICredentials")
                        .HasForeignKey("PFMP_API.Models.APICredential", "AccountId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Account");
                });

            modelBuilder.Entity("PFMP_API.Models.Account", b =>
                {
                    b.HasOne("PFMP_API.Models.User", "User")
                        .WithMany("Accounts")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.OwnsOne("PFMP_API.Models.TSPAllocation", "TSPAllocation", b1 =>
                        {
                            b1.Property<int>("AccountId")
                                .HasColumnType("integer");

                            b1.Property<decimal>("CFundPercentage")
                                .HasColumnType("decimal(5,2)")
                                .HasColumnName("TSP_CFundPercentage");

                            b1.Property<decimal>("FFundPercentage")
                                .HasColumnType("decimal(5,2)")
                                .HasColumnName("TSP_FFundPercentage");

                            b1.Property<decimal>("GFundPercentage")
                                .HasColumnType("decimal(5,2)")
                                .HasColumnName("TSP_GFundPercentage");

                            b1.Property<decimal>("IFundPercentage")
                                .HasColumnType("decimal(5,2)")
                                .HasColumnName("TSP_IFundPercentage");

                            b1.Property<decimal>("L2030FundPercentage")
                                .HasColumnType("decimal(5,2)");

                            b1.Property<decimal>("L2035FundPercentage")
                                .HasColumnType("decimal(5,2)");

                            b1.Property<decimal>("L2040FundPercentage")
                                .HasColumnType("decimal(5,2)");

                            b1.Property<decimal>("L2045FundPercentage")
                                .HasColumnType("decimal(5,2)");

                            b1.Property<decimal>("L2050FundPercentage")
                                .HasColumnType("decimal(5,2)");

                            b1.Property<decimal>("L2055FundPercentage")
                                .HasColumnType("decimal(5,2)");

                            b1.Property<decimal>("L2060FundPercentage")
                                .HasColumnType("decimal(5,2)");

                            b1.Property<decimal>("L2065FundPercentage")
                                .HasColumnType("decimal(5,2)");

                            b1.Property<decimal>("L2070FundPercentage")
                                .HasColumnType("decimal(5,2)");

                            b1.Property<decimal>("L2075FundPercentage")
                                .HasColumnType("decimal(5,2)");

                            b1.Property<decimal>("LIncomeFundPercentage")
                                .HasColumnType("decimal(5,2)");

                            b1.Property<DateTime>("LastUpdated")
                                .HasColumnType("timestamp with time zone")
                                .HasColumnName("TSP_LastUpdated");

                            b1.Property<decimal>("SFundPercentage")
                                .HasColumnType("decimal(5,2)")
                                .HasColumnName("TSP_SFundPercentage");

                            b1.HasKey("AccountId");

                            b1.ToTable("Accounts");

                            b1.WithOwner()
                                .HasForeignKey("AccountId");
                        });

                    b.Navigation("TSPAllocation");

                    b.Navigation("User");
                });

            modelBuilder.Entity("PFMP_API.Models.Advice", b =>
                {
                    b.HasOne("PFMP_API.Models.MarketContext", "MarketContext")
                        .WithMany()
                        .HasForeignKey("MarketContextId");

                    b.HasOne("PFMP_API.Models.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("MarketContext");

                    b.Navigation("User");
                });

            modelBuilder.Entity("PFMP_API.Models.Alert", b =>
                {
                    b.HasOne("PFMP_API.Models.MarketContext", "MarketContext")
                        .WithMany()
                        .HasForeignKey("MarketContextId");

                    b.HasOne("PFMP_API.Models.User", "User")
                        .WithMany("Alerts")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("MarketContext");

                    b.Navigation("User");
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.BenefitCoverage", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.CashAccount", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.EquityCompensationInterest", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithOne()
                        .HasForeignKey("PFMP_API.Models.FinancialProfile.EquityCompensationInterest", "UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.ExpenseBudget", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.FinancialProfileInsurancePolicy", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.FinancialProfileSectionStatus", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.FinancialProfileSnapshot", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithOne()
                        .HasForeignKey("PFMP_API.Models.FinancialProfile.FinancialProfileSnapshot", "UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.IncomeStreamProfile", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.InvestmentAccount", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.LiabilityAccount", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.LongTermObligation", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.PropertyProfile", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.TaxProfile", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithOne()
                        .HasForeignKey("PFMP_API.Models.FinancialProfile.TaxProfile", "UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.TspLifecyclePosition", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.TspPositionSnapshot", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.FinancialProfile.TspProfile", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithOne()
                        .HasForeignKey("PFMP_API.Models.FinancialProfile.TspProfile", "UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.Goal", b =>
                {
                    b.HasOne("PFMP_API.Models.User", "User")
                        .WithMany("Goals")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("PFMP_API.Models.GoalMilestone", b =>
                {
                    b.HasOne("PFMP_API.Models.Goal", "Goal")
                        .WithMany("Milestones")
                        .HasForeignKey("GoalId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Goal");
                });

            modelBuilder.Entity("PFMP_API.Models.Holding", b =>
                {
                    b.HasOne("PFMP_API.Models.Account", "Account")
                        .WithMany("Holdings")
                        .HasForeignKey("AccountId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Account");
                });

            modelBuilder.Entity("PFMP_API.Models.IncomeSource", b =>
                {
                    b.HasOne("PFMP_API.Models.User", "User")
                        .WithMany("IncomeSources")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("PFMP_API.Models.Insurance", b =>
                {
                    b.HasOne("PFMP_API.Models.User", "User")
                        .WithMany("InsurancePolicies")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("PFMP_API.Models.OnboardingProgress", b =>
                {
                    b.HasOne("PFMP_API.Models.User", null)
                        .WithOne()
                        .HasForeignKey("PFMP_API.Models.OnboardingProgress", "UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("PFMP_API.Models.RealEstate", b =>
                {
                    b.HasOne("PFMP_API.Models.User", "User")
                        .WithMany("RealEstateProperties")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("PFMP_API.Models.Transaction", b =>
                {
                    b.HasOne("PFMP_API.Models.Account", "Account")
                        .WithMany("Transactions")
                        .HasForeignKey("AccountId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("PFMP_API.Models.Holding", "Holding")
                        .WithMany("Transactions")
                        .HasForeignKey("HoldingId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("Account");

                    b.Navigation("Holding");
                });

            modelBuilder.Entity("PFMP_API.Models.UserTask", b =>
                {
                    b.HasOne("PFMP_API.Models.Alert", "SourceAlert")
                        .WithMany()
                        .HasForeignKey("SourceAlertId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("PFMP_API.Models.User", "User")
                        .WithMany("Tasks")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("SourceAlert");

                    b.Navigation("User");
                });

            modelBuilder.Entity("PFMP_API.Models.AIConversation", b =>
                {
                    b.Navigation("Messages");
                });

            modelBuilder.Entity("PFMP_API.Models.Account", b =>
                {
                    b.Navigation("APICredentials");

                    b.Navigation("Holdings");

                    b.Navigation("Transactions");
                });

            modelBuilder.Entity("PFMP_API.Models.Goal", b =>
                {
                    b.Navigation("Milestones");
                });

            modelBuilder.Entity("PFMP_API.Models.Holding", b =>
                {
                    b.Navigation("Transactions");
                });

            modelBuilder.Entity("PFMP_API.Models.User", b =>
                {
                    b.Navigation("Accounts");

                    b.Navigation("Alerts");

                    b.Navigation("Goals");

                    b.Navigation("IncomeSources");

                    b.Navigation("InsurancePolicies");

                    b.Navigation("RealEstateProperties");

                    b.Navigation("Tasks");
                });
#pragma warning restore 612, 618
        }
    }
}
